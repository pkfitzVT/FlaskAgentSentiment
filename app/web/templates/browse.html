{% extends "base.html" %}
{% block content %}
<div class="container my-4">
  <h2>Browse Articles</h2>
  <table id="browseTbl" class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Date</th><th>Title</th><th>Sentiment</th><th>Rec</th>
      </tr>
    </thead>
    <tbody>
      {% for r in rows %}
      <tr>
        <td>{{ r.publish_date }}</td>
        <td><a href="{{ url_for('web.article', aid=r.article_id) }}">{{ r.title }}</a></td>
        <td>{{ "%.2f"|format(r.sentiment_score) }}</td>
        <td>{{ r.recommendation }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- DataTables CDN for nice sorting/search -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/dataTables.bootstrap5.min.css">
<script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/dataTables.bootstrap5.min.js"></script>
<script>
  $(function(){ $('#browseTbl').DataTable(); });
</script>
{% endblock %}
